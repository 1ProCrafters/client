plugins {
	id "com.github.johnrengelman.shadow" apply false
	id "io.freefair.lombok" version "6.4.3" apply false
}

allprojects {
	apply plugin: "java"
	apply plugin: "com.github.johnrengelman.shadow"
	apply plugin: "io.freefair.lombok"

	repositories {
		mavenCentral()
		maven { url "https://libraries.minecraft.net" }
		maven { url "https://repo.spongepowered.org/maven" }
		maven { url "https://repo.codemc.io/repository/maven-public" }
		maven { url "https://repo.hypixel.net/repository/Hypixel" }
		maven { url "https://jitpack.io" }
		maven { url "https://glassmc.ml/repository/" }
	}

	dependencies {
		implementation "org.apache.logging.log4j:log4j-api:2.17.2"
		implementation "org.apache.logging.log4j:log4j-core:2.17.2"
		implementation "commons-io:commons-io:2.7"
		implementation "org.apache.commons:commons-lang3:3.3.2"
	}

	configurations {
		shadowImplementation
		implementation.extendsFrom(shadowImplementation)
	}

	jar {
		enabled = false
		dependsOn shadowJar
	}

	shadowJar {
		configurations = [project.configurations.shadowImplementation]
	}

	dependencies {
		implementation "org.jetbrains:annotations:23.0.0"
	}
}

//kiln {
//	environment = new SolClientKilnEnvironment()
//	transformers += new MixinRemapper()
//}

dependencies {
	shadowImplementation files("libs/occlusionculling.jar")
	implementation "net.hypixel:hypixel-api-core:4.0"

	implementation "com.github.JnCrMx:discord-game-sdk4j:v0.5.4"
	implementation "org.java-websocket:Java-WebSocket:1.5.3"
	implementation "org.apache.httpcomponents:httpclient:4.5.13"

	// minimal lwjgl, simply to compile against since the version can vary
	compileOnly "org.lwjgl:lwjgl-opengl:3.3.1"
	
	implementation "com.google.guava:guava:31.1-jre"
}
